<div class="container">
  <h1>Dartmuti tabletop</h1>
  <label>Seed</label>
  <input type="number" [(ngModel)]="model.seed">
  <button (click)="model.randomiseSeed()"> Randomise seed </button>
  <button (click)="model.startGame()"> Start Game! </button>
  <h2>Current ({{model.currentTricks.length}} tricks, totalling {{model.countCardsTricks()}} cards)</h2>
  <ul>
    <li *ngIf="model.players.length == 0"> You need to add players before you can start playing!</li>
    <li *ngIf="model.players.length > 0"> It's {{model.players[model.currentPlayer].name}} turn
      <button *ngIf="!model.players[model.currentPlayer].currentTurn" (click)="model.playTurn(model.currentPlayer)"> Accept </button>
      <button (click)="model.passTurn(model.currentPlayer)"> Pass </button>
    </li>
    <li class="tricks" *ngFor="#trick of model.currentTricks">
      <dartmuti-trick [model]="trick"> Loading tricks... </dartmuti-trick>
    </li>
  </ul>
  <h2>Players</h2>
  <ul>
    <li><input #newPlayer (keyup.enter)="model.addPlayer(newPlayer.value); newPlayer.value=''">
        <button (click)="model.addPlayer(newPlayer.value); newPlayer.value=''">Add</button>
    </li>
    <li class="players" *ngFor="#player of model.players">
        <dartmuti-player [ngClass]="{backside: !player.currentTurn, passed: player.hasPassed}" [model]="player"> Loading players... </dartmuti-player>
    </li>
  </ul>
  <h2>Discard Pile ({{model.discardPile.length}} / {{model.countCards()}})</h2>
  <ul class="deck">
    <li class="backside" *ngFor="#card of model.discardPile" [value]="card">
      <dartmuti-card [model]="card"> Loading cart... </dartmuti-card>
    </li>
    <li *ngIf="model.discardPile == null || model.discardPile.length == 0"> Is empty! </li>
  </ul>
  <h2>Settings</h2>
</div>
